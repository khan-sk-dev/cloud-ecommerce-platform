<div align="center">

# ğŸŒŸ Cloud E-Commerce Platform ğŸŒŸ

<img src="https://img.shields.io/badge/Cloud_Native-E--Commerce-FF6B6B?style=for-the-badge&logo=kubernetes&logoColor=white" alt="Cloud Native E-Commerce" />

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg?style=for-the-badge)](https://opensource.org/licenses/MIT)
[![GitHub stars](https://img.shields.io/github/stars/khan-sk-dev/cloud-ecommerce-platform.svg?style=for-the-badge&logo=github&color=ff69b4)](https://github.com/khan-sk-dev/cloud-ecommerce-platform/stargazers/)
[![GitHub forks](https://img.shields.io/github/forks/khan-sk-dev/cloud-ecommerce-platform.svg?style=for-the-badge&logo=github&color=00d9ff)](https://github.com/khan-sk-dev/cloud-ecommerce-platform/network/members)
[![GitHub issues](https://img.shields.io/github/issues/khan-sk-dev/cloud-ecommerce-platform.svg?style=for-the-badge&logo=github&color=ff0000)](https://github.com/khan-sk-dev/cloud-ecommerce-platform/issues)
[![Build Status](https://img.shields.io/badge/Build-Passing-brightgreen?style=for-the-badge&logo=github-actions)](https://github.com/khan-sk-dev/cloud-ecommerce-platform/actions)

<h3>ğŸš€ A Cutting-Edge Microservices E-Commerce Platform Built for the Cloud Era ğŸš€</h3>
<p><em>Scalable â€¢ Cloud-Native â€¢ Event-Driven â€¢ Production-Ready â€¢ Kubernetes-Optimized</em></p>

<img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/java/java-original.svg" width="60" height="60"/>
<img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/spring/spring-original.svg" width="60" height="60"/>
<img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/docker/docker-original.svg" width="60" height="60"/>
<img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/kubernetes/kubernetes-plain.svg" width="60" height="60"/>
<img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/postgresql/postgresql-original.svg" width="60" height="60"/>
<img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/mongodb/mongodb-original.svg" width="60" height="60"/>
<img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/redis/redis-original.svg" width="60" height="60"/>

</div>

---

## ğŸ“‹ Table of Contents

- [ğŸ¯ Overview](#-overview)
- [âœ¨ Key Features](#-key-features)
- [ğŸ—ï¸ Architecture](#ï¸-architecture)
- [ğŸ› ï¸ Tech Stack](#ï¸-tech-stack)
- [ğŸš€ Quick Start](#-quick-start)
- [ğŸ“¦ Services Deep Dive](#-services-deep-dive)
- [ğŸ”§ Configuration](#-configuration)
- [ğŸ“Š API Documentation](#-api-documentation)
- [ğŸ³ Docker & Kubernetes](#-docker--kubernetes)
- [ğŸ“ˆ Monitoring & Observability](#-monitoring--observability)
- [ğŸ§ª Testing Strategy](#-testing-strategy)
- [ğŸ” Security](#-security)
- [ğŸ¤ Contributing](#-contributing)
- [ğŸ“œ License](#-license)
- [ğŸ™ Acknowledgments](#-acknowledgments)

---

## ğŸ¯ Overview

The **Cloud E-Commerce Platform** is a state-of-the-art, enterprise-grade e-commerce solution built using microservices architecture and cloud-native principles. Designed to handle millions of transactions with ease, this platform showcases the best practices in distributed systems, providing a robust foundation for modern e-commerce applications.

### ğŸŒŸ What Sets Us Apart?

<table>
<tr>
<td width="50%">

**ğŸ† Business Excellence**
- ğŸ›’ **Complete E-Commerce Suite** - Full product lifecycle
- ğŸ’³ **Smart Payment Processing** - Multiple gateway support
- ğŸ“¦ **Intelligent Order Management** - Real-time tracking
- ğŸª **Multi-Vendor Support** - Marketplace capabilities
- ğŸ“Š **Advanced Analytics** - Business intelligence ready

</td>
<td width="50%">

**ğŸš€ Technical Excellence**
- â˜ï¸ **Cloud-Native Architecture** - Built for Kubernetes
- ğŸ”„ **Event-Driven Design** - Apache Kafka backbone
- ğŸ›¡ï¸ **Enterprise Security** - OAuth2 + JWT + API Gateway
- ğŸ“ˆ **Auto-Scaling** - Handle traffic spikes effortlessly
- ğŸŒ **Global Ready** - Multi-region deployment support

</td>
</tr>
</table>

### ğŸ’¡ Perfect For
- ğŸ¢ **Enterprise E-Commerce** platforms
- ğŸ›ï¸ **Multi-vendor Marketplaces**
- ğŸ“± **Omnichannel Retail** solutions
- ğŸŒ **Global E-Commerce** operations
- ğŸ“ **Learning Microservices** architecture

---

## âœ¨ Key Features

<div align="center">

### ğŸ›ï¸ E-Commerce Features

| Feature | Description | Status |
|---------|-------------|--------|
| ğŸ›’ **Product Catalog** | Advanced search, filtering, categories | âœ… Complete |
| ğŸ›ï¸ **Shopping Cart** | Persistent cart with Redis caching | âœ… Complete |
| ğŸ’³ **Payment Gateway** | Stripe, PayPal, Razorpay integration | âœ… Complete |
| ğŸ“¦ **Order Tracking** | Real-time status updates | âœ… Complete |
| ğŸ‘¤ **User Profiles** | Comprehensive user management | âœ… Complete |
| ğŸ”” **Notifications** | Email, SMS, Push notifications | âœ… Complete |
| ğŸ“Š **Analytics Dashboard** | Real-time business metrics | âœ… Complete |
| ğŸ **Promotions & Discounts** | Coupon and offer management | âœ… Complete |

### ğŸ› ï¸ Technical Features

| Feature | Description | Status |
|---------|-------------|--------|
| ğŸšª **API Gateway** | Centralized routing with Spring Cloud Gateway | âœ… Complete |
| ğŸ” **Service Discovery** | Dynamic service registration with Eureka | âœ… Complete |
| âš™ï¸ **Config Management** | Centralized configuration with Spring Cloud Config | âœ… Complete |
| ğŸ”„ **Event Streaming** | Kafka-based event-driven architecture | âœ… Complete |
| ğŸ“Š **Monitoring Suite** | Prometheus, Grafana, ELK Stack | âœ… Complete |
| ğŸ” **Security Layer** | OAuth2, JWT, Rate Limiting | âœ… Complete |
| ğŸ³ **Containerization** | Docker & Kubernetes ready | âœ… Complete |
| ğŸ”„ **CI/CD Pipeline** | GitHub Actions automated deployment | âœ… Complete |

</div>

---

## ğŸ—ï¸ Architecture

### ğŸŒ High-Level System Architecture

```mermaid
graph TB
    subgraph "ğŸŒ External World"
        Customer[ğŸ‘¤ Customers]
        Admin[ğŸ‘¨â€ğŸ’¼ Admins]
        Payment[ğŸ’³ Payment Providers]
        Shipping[ğŸ“¦ Shipping Partners]
    end
    
    subgraph "ğŸ” Edge Layer"
        LB[âš–ï¸ Load Balancer]
        Gateway[ğŸšª API Gateway]
        Auth[ğŸ” Auth Service]
    end
    
    subgraph "ğŸ’¼ Business Services"
        Product[ğŸ›ï¸ Product Service]
        Cart[ğŸ›’ Cart Service]
        Order[ğŸ“¦ Order Service]
        User[ğŸ‘¤ User Service]
        PaymentSvc[ğŸ’³ Payment Service]
        Inventory[ğŸ“‹ Inventory Service]
        Notification[ğŸ”” Notification Service]
        Analytics[ğŸ“Š Analytics Service]
    end
    
    subgraph "ğŸ”„ Event Bus"
        Kafka[Apache Kafka]
    end
    
    subgraph "ğŸ’¾ Data Layer"
        PostgreSQL[(ğŸ˜ PostgreSQL)]
        MongoDB[(ğŸƒ MongoDB)]
        Redis[(ğŸ”´ Redis Cache)]
        Elasticsearch[(ğŸ” Elasticsearch)]
    end
    
    subgraph "ğŸ› ï¸ Infrastructure Services"
        Eureka[ğŸ” Service Discovery]
        Config[âš™ï¸ Config Server]
        Vault[ğŸ” HashiCorp Vault]
    end
    
    subgraph "ğŸ“Š Observability"
        Prometheus[ğŸ“ˆ Prometheus]
        Grafana[ğŸ“Š Grafana]
        Zipkin[ğŸ” Zipkin]
        ELK[ğŸ“ ELK Stack]
    end
    
    Customer --> LB
    Admin --> LB
    LB --> Gateway
    Gateway --> Auth
    
    Gateway --> Product
    Gateway --> Cart
    Gateway --> Order
    Gateway --> User
    Gateway --> PaymentSvc
    
    Order --> Kafka
    PaymentSvc --> Kafka
    Inventory --> Kafka
    Kafka --> Notification
    Kafka --> Analytics
    
    Product --> MongoDB
    User --> PostgreSQL
    Order --> PostgreSQL
    Cart --> Redis
    Analytics --> Elasticsearch
    
    PaymentSvc --> Payment
    Order --> Shipping
    
    style Customer fill:#e1f5fe
    style Kafka fill:#ff6b6b
    style Gateway fill:#f3e5f5
    style PostgreSQL fill:#336791
    style MongoDB fill:#4DB33D
    style Redis fill:#DC382D
```

### ğŸ›ï¸ Microservices Communication Pattern

```mermaid
sequenceDiagram
    participant C as ğŸ‘¤ Customer
    participant G as ğŸšª API Gateway
    participant A as ğŸ” Auth Service
    participant P as ğŸ›ï¸ Product Service
    participant Ca as ğŸ›’ Cart Service
    participant O as ğŸ“¦ Order Service
    participant Pa as ğŸ’³ Payment Service
    participant K as ğŸ”„ Kafka
    participant N as ğŸ”” Notification
    
    C->>G: Browse Products
    G->>A: Validate Token
    A-->>G: Token Valid âœ“
    G->>P: Get Products
    P-->>G: Product List
    G-->>C: Display Products
    
    C->>G: Add to Cart
    G->>Ca: Update Cart
    Ca-->>G: Cart Updated
    
    C->>G: Checkout
    G->>O: Create Order
    O->>Pa: Process Payment
    Pa-->>O: Payment Success
    O->>K: Publish OrderCreated
    K->>N: Send Confirmation
    N-->>C: Email/SMS Sent
```

### ğŸ—ï¸ Service Architecture Pattern

Each microservice follows a clean, layered architecture:

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             ğŸŒ API Layer            â”‚
â”‚        (Controllers & DTOs)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           ğŸ’¼ Business Layer         â”‚
â”‚        (Services & Domain)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         ğŸ—„ï¸ Persistence Layer       â”‚
â”‚      (Repositories & Entities)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        ğŸ”Œ Integration Layer         â”‚
â”‚    (Message Queues & External)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ Tech Stack

<div align="center">

### ğŸ¯ Core Technologies

| Category | Technology | Purpose | Version |
|----------|------------|---------|---------|
| â˜• Language | Java | Primary Language | 17 LTS |
| ğŸƒ Framework | Spring Boot | Microservices Framework | 3.2.0 |
| ğŸŒ¥ï¸ Cloud | Spring Cloud | Cloud Native Tools | 2023.0.0 |
| ğŸ³ Containerization | Docker | Container Runtime | 24.0+ |
| â˜¸ï¸ Orchestration | Kubernetes | Container Orchestration | 1.28+ |
| ğŸ”„ Messaging | Apache Kafka | Event Streaming | 3.6+ |
| ğŸšª API Gateway | Spring Cloud Gateway | API Management | 4.1.0 |

### ğŸ’¾ Data Technologies

| Database | Use Case | Why? |
|----------|----------|------|
| ğŸ˜ PostgreSQL | Orders, Users | ACID compliance, Complex queries |
| ğŸƒ MongoDB | Product Catalog | Flexible schema, Fast reads |
| ğŸ”´ Redis | Cart, Sessions | In-memory speed, TTL support |
| ğŸ” Elasticsearch | Search, Analytics | Full-text search, Analytics |

### ğŸ“Š Monitoring Stack

| Tool | Purpose | Integration |
|------|---------|-------------|
| ğŸ“ˆ Prometheus | Metrics Collection | All services |
| ğŸ“Š Grafana | Visualization | Prometheus data |
| ğŸ” Zipkin | Distributed Tracing | Request tracking |
| ğŸ“ ELK Stack | Log Aggregation | Centralized logging |
| ğŸ¥ Spring Actuator | Health Checks | Service health |

### ğŸ” Security Stack

| Component | Technology | Purpose |
|-----------|------------|---------|
| ğŸ” Authentication | OAuth2 + JWT | Token-based auth |
| ğŸšª Authorization | Spring Security | Role-based access |
| ğŸ”‘ Secrets | HashiCorp Vault | Secret management |
| ğŸ›¡ï¸ API Security | Rate Limiting | DDoS protection |
| ğŸ”’ Encryption | TLS 1.3 | Data in transit |

</div>

---

## ğŸš€ Quick Start

### ğŸ“‹ Prerequisites

**ğŸ–¥ï¸ Development Machine**
- ğŸ’» **OS:** Linux/Mac/Windows (WSL2)
- ğŸ’¾ **RAM:** 16GB minimum
- ğŸ’¿ **Storage:** 20GB free space
- ğŸŒ **Network:** Stable internet

**ğŸ› ï¸ Required Software**
- â˜• **Java JDK:** 17 or higher
- ğŸ³ **Docker:** 24.0+
- ğŸ³ **Docker Compose:** 2.20+
- â˜¸ï¸ **kubectl:** 1.28+ (optional)
- ğŸ”¨ **Maven:** 3.9+

### âš¡ One-Click Deployment

```bash
# ğŸš€ Clone and Deploy Everything
git clone https://github.com/khan-sk-dev/cloud-ecommerce-platform.git
cd cloud-ecommerce-platform
./deploy.sh --full-stack
```

### ğŸ¯ Step-by-Step Setup

<details>
<summary><strong>ğŸ³ Option 1: Docker Compose (Recommended for Development)</strong></summary>

```bash
# 1ï¸âƒ£ Clone the repository
git clone https://github.com/khan-sk-dev/cloud-ecommerce-platform.git
cd cloud-ecommerce-platform

# 2ï¸âƒ£ Set up environment variables
cp .env.example .env
# Edit .env with your configurations

# 3ï¸âƒ£ Start infrastructure services
docker-compose -f docker-compose.infra.yml up -d

# 4ï¸âƒ£ Wait for services to be healthy
./scripts/wait-for-infra.sh

# 5ï¸âƒ£ Start application services
docker-compose up -d

# 6ï¸âƒ£ Verify deployment
./scripts/health-check.sh
```

</details>

<details>
<summary><strong>â˜¸ï¸ Option 2: Kubernetes Deployment (Production-like)</strong></summary>

```bash
# 1ï¸âƒ£ Ensure Kubernetes cluster is running
kubectl cluster-info

# 2ï¸âƒ£ Create namespace
kubectl create namespace ecommerce-platform

# 3ï¸âƒ£ Install infrastructure
kubectl apply -f k8s/infrastructure/

# 4ï¸âƒ£ Install application services
kubectl apply -f k8s/services/

# 5ï¸âƒ£ Check deployment status
kubectl get pods -n ecommerce-platform

# 6ï¸âƒ£ Access the application
kubectl port-forward -n ecommerce-platform svc/api-gateway 8080:8080
```

</details>

<details>
<summary><strong>ğŸ’» Option 3: Local Development Setup</strong></summary>

```bash
# 1ï¸âƒ£ Start required databases
docker-compose -f docker-compose.dev.yml up -d

# 2ï¸âƒ£ Start Config Server
cd services/config-server
mvn spring-boot:run &

# 3ï¸âƒ£ Start Eureka Server
cd ../discovery-server
mvn spring-boot:run &

# 4ï¸âƒ£ Start remaining services
cd ../api-gateway && mvn spring-boot:run &
cd ../user-service && mvn spring-boot:run &
cd ../product-service && mvn spring-boot:run &
cd ../cart-service && mvn spring-boot:run &
cd ../order-service && mvn spring-boot:run &
cd ../payment-service && mvn spring-boot:run &
```

</details>

### ğŸ¯ Verify Installation

After startup, check these endpoints:

| Service | URL | Status |
|---------|-----|--------|
| ğŸšª API Gateway | http://localhost:8080 | [![Status](https://img.shields.io/badge/Status-Live-green)](http://localhost:8080) |
| ğŸ” Eureka Dashboard | http://localhost:8761 | [![Status](https://img.shields.io/badge/Status-Live-green)](http://localhost:8761) |
| ğŸ“Š Zipkin Tracing | http://localhost:9411 | [![Status](https://img.shields.io/badge/Status-Live-green)](http://localhost:9411) |
| ğŸ“ˆ Grafana Dashboard | http://localhost:3000 | [![Status](https://img.shields.io/badge/Status-Live-green)](http://localhost:3000) |
| ğŸ“ Kibana Logs | http://localhost:5601 | [![Status](https://img.shields.io/badge/Status-Live-green)](http://localhost:5601) |

---

## ğŸ“¦ Services Deep Dive

<details>
<summary><strong>ğŸšª API Gateway Service</strong></summary>

**Purpose:** Centralized entry point for all client requests

**Tech Stack:** Spring Cloud Gateway + Redis

**Key Features:**
- âœ… Request routing and load balancing
- âœ… Authentication and authorization
- âœ… Rate limiting and throttling
- âœ… Request/response transformation
- âœ… Circuit breaker integration

**Configuration:**
```yaml
spring:
  cloud:
    gateway:
      routes:
        - id: product-service
          uri: lb://PRODUCT-SERVICE
          predicates:
            - Path=/api/v1/products/**
          filters:
            - name: RateLimiter
              args:
                redis-rate-limiter.replenishRate: 10
                redis-rate-limiter.burstCapacity: 20
```

</details>

<details>
<summary><strong>ğŸ›ï¸ Product Service</strong></summary>

**Purpose:** Manages product catalog and inventory display

**Tech Stack:** Spring Boot + MongoDB + Spring Data MongoDB + Elasticsearch

**Key Features:**
- âœ… Product CRUD operations
- âœ… Category management
- âœ… Advanced search and filtering
- âœ… Product recommendations
- âœ… Image management with CDN

**API Endpoints:**
```http
GET    /api/v1/products           # List all products
GET    /api/v1/products/{id}      # Get product details
POST   /api/v1/products           # Create new product
PUT    /api/v1/products/{id}      # Update product
DELETE /api/v1/products/{id}      # Delete product
GET    /api/v1/products/search    # Search products
GET    /api/v1/products/categories # Get categories
```

</details>

<details>
<summary><strong>ğŸ›’ Cart Service</strong></summary>

**Purpose:** Handles shopping cart operations

**Tech Stack:** Spring Boot + Redis + Spring Data Redis

**Key Features:**
- âœ… Add/remove items from cart
- âœ… Cart persistence with TTL
- âœ… Price calculation
- âœ… Cart sharing and merging
- âœ… Abandoned cart recovery

**API Endpoints:**
```http
GET    /api/v1/cart/{userId}         # Get user cart
POST   /api/v1/cart/{userId}/items   # Add item to cart
PUT    /api/v1/cart/{userId}/items/{itemId} # Update item quantity
DELETE /api/v1/cart/{userId}/items/{itemId} # Remove item
DELETE /api/v1/cart/{userId}         # Clear cart
```

</details>

<details>
<summary><strong>ğŸ“¦ Order Service</strong></summary>

**Purpose:** Complete order lifecycle management

**Tech Stack:** Spring Boot + PostgreSQL + JPA + Kafka Producer

**Key Features:**
- âœ… Order creation and management
- âœ… Inventory validation (sync call)
- âœ… Payment processing integration
- âœ… Order status tracking
- âœ… Event publishing for notifications

**Order States:**
```text
PENDING â†’ CONFIRMED â†’ PROCESSING â†’ SHIPPED â†’ DELIVERED
    â†“         â†“           â†“          â†“
CANCELLED  CANCELLED   CANCELLED  RETURNED
```

**API Endpoints:**
```http
POST   /api/v1/orders             # Create new order
GET    /api/v1/orders/{id}        # Get order details
GET    /api/v1/orders/user/{id}   # Get user orders
PUT    /api/v1/orders/{id}/status # Update order status
DELETE /api/v1/orders/{id}        # Cancel order
```

</details>

<details>
<summary><strong>ğŸ’³ Payment Service</strong></summary>

**Purpose:** Multi-gateway payment processing

**Tech Stack:** Spring Boot + PostgreSQL + Stripe/PayPal APIs

**Key Features:**
- âœ… Multiple payment gateway support
- âœ… Secure payment processing
- âœ… Payment status tracking
- âœ… Refund management
- âœ… Payment analytics

**Supported Gateways:**
- ğŸ’³ Stripe
- ğŸ…¿ï¸ PayPal
- ğŸ’° Razorpay
- ğŸ¦ Bank Transfer

**API Endpoints:**
```http
POST   /api/v1/payments/process    # Process payment
GET    /api/v1/payments/{id}       # Get payment status
POST   /api/v1/payments/{id}/refund # Refund payment
GET    /api/v1/payments/history    # Payment history
```

</details>

<details>
<summary><strong>ğŸ‘¤ User Service</strong></summary>

**Purpose:** User management and authentication

**Tech Stack:** Spring Boot + PostgreSQL + Spring Security + JWT

**Key Features:**
- âœ… User registration and authentication
- âœ… Profile management
- âœ… Role-based access control
- âœ… Password management
- âœ… Social login integration

**API Endpoints:**
```http
POST   /api/v1/users/register      # User registration
POST   /api/v1/users/login         # User login
GET    /api/v1/users/profile       # Get user profile
PUT    /api/v1/users/profile       # Update profile
POST   /api/v1/users/forgot-password # Password reset
```

</details>

<details>
<summary><strong>ğŸ”” Notification Service</strong></summary>

**Purpose:** Multi-channel customer notifications

**Tech Stack:** Spring Boot + Kafka Consumer + Email/SMS APIs

**Key Features:**
- âœ… Email notifications
- âœ… SMS alerts
- âœ… Push notifications
- âœ… Notification templates
- âœ… Delivery tracking

**Supported Events:**
- ğŸ“§ Order confirmation
- ğŸ“± Shipping updates
- âš ï¸ Low stock alerts
- ğŸ‰ Promotional offers

</details>

---

## ğŸ”§ Configuration

### ğŸŒ Environment Configuration

| Environment | Purpose | Config Location | Features |
|-------------|---------|-----------------|----------|
| **local** | Local development | `application-local.yml` | In-memory DB, Mock services |
| **dev** | Development server | Config Server | Full services, Test data |
| **staging** | Pre-production | Config Server + Vault | Production-like, Test payments |
| **prod** | Production | Config Server + Vault | Full security, Real payments |

### âš™ï¸ Service Configuration

```yaml
# Example: product-service configuration
server:
  port: ${PORT:8081}

spring:
  data:
    mongodb:
      uri: ${MONGODB_URI:mongodb://localhost:27017/products}
  redis:
    host: ${REDIS_HOST:localhost}
    port: ${REDIS_PORT:6379}
  kafka:
    bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  metrics:
    export:
      prometheus:
        enabled: true
    tags:
      application: ${spring.application.name}

# Custom application properties
app:
  cache:
    ttl: ${CACHE_TTL:3600}
  search:
    elasticsearch:
      url: ${ELASTICSEARCH_URL:http://localhost:9200}
```

### ğŸ” Security Configuration

```yaml
# OAuth2 Resource Server Configuration
spring:
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: ${JWT_ISSUER_URI:http://localhost:8080/auth/realms/ecommerce}
          jwk-set-uri: ${JWT_JWK_SET_URI:http://localhost:8080/auth/realms/ecommerce/protocol/openid-connect/certs}

# API Rate Limiting
resilience4j:
  ratelimiter:
    instances:
      api:
        limitForPeriod: ${RATE_LIMIT:100}
        limitRefreshPeriod: 1m
        timeoutDuration: 0
```

---

## ğŸ“Š API Documentation

### ğŸŒ API Gateway Endpoints

| Service | Base Path | Description | Auth Required |
|---------|-----------|-------------|---------------|
| ğŸ›ï¸ Products | `/api/v1/products` | Product catalog management | Partial |
| ğŸ›’ Cart | `/api/v1/cart` | Shopping cart operations | Yes |
| ğŸ“¦ Orders | `/api/v1/orders` | Order management | Yes |
| ğŸ’³ Payments | `/api/v1/payments` | Payment processing | Yes |
| ğŸ‘¤ Users | `/api/v1/users` | User management | Partial |
| ğŸ”” Notifications | `/api/v1/notifications` | Notification preferences | Yes |

### ğŸ“– API Documentation Tools

- **Swagger UI:** http://localhost:8080/swagger-ui.html
- **OpenAPI Spec:** http://localhost:8080/v3/api-docs
- **Postman Collection:** [Download Collection](./docs/postman-collection.json)

### ğŸ”‘ Authentication

```bash
# Get access token
curl -X POST http://localhost:8080/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "user@example.com",
    "password": "password123"
  }'

# Use token in requests
curl -X GET http://localhost:8080/api/v1/orders \
  -H "Authorization: Bearer <your-token>"
```

---

## ğŸ³ Docker & Kubernetes

### ğŸ³ Docker Architecture

```yaml
# docker-compose.yml structure
version: '3.8'

services:
  # Infrastructure Services
  postgres:
    image: postgres:15-alpine
    environment:
      POSTGRES_DB: ecommerce
      POSTGRES_USER: ${DB_USER}
      POSTGRES_PASSWORD: ${DB_PASSWORD}
    volumes:
      - postgres_data:/var/lib/postgresql/data
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U postgres"]
      interval: 10s
      timeout: 5s
      retries: 5

  mongodb:
    image: mongo:6.0
    environment:
      MONGO_INITDB_ROOT_USERNAME: ${MONGO_USER}
      MONGO_INITDB_ROOT_PASSWORD: ${MONGO_PASSWORD}
    volumes:
      - mongo_data:/data/db

  redis:
    image: redis:7-alpine
    command: redis-server --requirepass ${REDIS_PASSWORD}
    volumes:
      - redis_data:/data

  kafka:
    image: confluentinc/cp-kafka:latest
    depends_on:
      - zookeeper
    environment:
      KAFKA_BROKER_ID: 1
      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181
      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:9092

  # Monitoring Stack
  prometheus:
    image: prom/prometheus:latest
    volumes:
      - ./monitoring/prometheus.yml:/etc/prometheus/prometheus.yml
      - prometheus_data:/prometheus

  grafana:
    image: grafana/grafana:latest
    environment:
      GF_SECURITY_ADMIN_PASSWORD: ${GRAFANA_PASSWORD}
    volumes:
      - grafana_data:/var/lib/grafana
      - ./monitoring/dashboards:/etc/grafana/provisioning/dashboards

volumes:
  postgres_data:
  mongo_data:
  redis_data:
  prometheus_data:
  grafana_data:
```

### â˜¸ï¸ Kubernetes Deployment

```yaml
# Example: Product Service Deployment
apiVersion: apps/v1
kind: Deployment
metadata:
  name: product-service
  namespace: ecommerce-platform
spec:
  replicas: 3
  selector:
    matchLabels:
      app: product-service
  template:
    metadata:
      labels:
        app: product-service
    spec:
      containers:
      - name: product-service
        image: khan-sk-dev/product-service:latest
        ports:
        - containerPort: 8081
        env:
        - name: SPRING_PROFILES_ACTIVE
          value: "k8s"
        - name: MONGODB_URI
          valueFrom:
            secretKeyRef:
              name: mongodb-secret
              key: connection-string
        resources:
          requests:
            memory: "512Mi"
            cpu: "250m"
          limits:

```
